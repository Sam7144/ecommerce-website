const placeOrderHandler=async()=>{
    try{
        setLoading(true);
        const {data}=await axios.post('/api/orders',{
            orderItems:cartItems, 
            shippingAddress,
            paymentMethod,
            itemsPrice,
            taxPrice,
            shippingPrice,
            totalPrice
        });
        setLoading(false)
        dispatch({type:'CART_CLEAR'});
        Cookies.set('cart',JSON.stringify({
            ...cart,
            cartItems:[]
        }))
        router.push(`/order/${data._id}`)
    }
    catch(err){
        setLoading(false)
        toast.error(getError(err))
    }
  }